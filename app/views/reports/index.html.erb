<%= form_with(url: "/reports_by_category", method: "get") do |form| %>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <h1 class="text-center" style="margin-top: 15px;">Генератор Звітів</h1>
        <div class="container" style="background: rgb(246, 243, 243); margin-top: 30px; border-radius: 10px">
            <div class="row g-3 align-items-center py-3 ">
                <div class="col-2 text-end">
                    <%= form.label :start_date, "Дата YYYY-MM-DD", class: "form-label" %>
                </div>
                <div class="col-3">
                    <%= form.date_field :start_date, class: "form-control" %>
                </div>
            </div>
            <div class="row g-3 align-items-center py-3">
                <div class="col-2 text-end">
                    <%= form.label :last_date, "Дата YYYY-MM-DD", class: "form-label" %>
                </div>
                <div class="col-3">
                    <%= form.date_field :last_date, class: "form-control" %>
                </div>
            </div>
            <div class="row g-3 align-items-center py-3">
                <div class="col-2 text-end">
                    <%= form.label :otype, "Тип операції", class:"form-label" %>
                </div>
                <div class="col-3">
                    <select name="operation[otype]" id="otype", class="form-select">
                        <% Operation.otypes.keys.each do |key| %>
                            <option value=<%= key %>>
                                <%= key == "income" ? "Дохід" : "Витрата"%>
                            </option>
                        <% end %>
                    </select>
                </div>
            </div>
            <div class="row g-3 align-items-center py-3">
                <div class="col-2 text-end">
                    <label for="operation_category_id" class="form-label">Назва Категорії</label>
                </div>
                <div class="col-3">
                    <select name="operation[category_id]" id="operation_category_id" class="form-select">
                        <% Category.all.each do | categor | %>
                            <option value=<%= categor.id %>>
                                <%= categor.name %>
                            </option>
                        <% end %>
                    </select>
                </div>
            </div>
            <div class="row align-items-center my-2">
                <div class="col offset-2" style="margin-bottom:10px">
                    <button type="submit" formaction="#" class="btn btn-primary">Згенерувати</button>
                    <button type="reset" class="btn btn-secondary mx-2">
                    Очистити
                    </button>
                    <button type="submit" formaction="/reports_by_category" class="btn btn-success mx-2" >Графік</button>
                    <button type="submit" formaction="/reports_by_dates" class="btn btn-danger mx-2">По датам</button>
                </div>
            </div>
        </div>
<% end %>
